
@keyframes markerAnim
  0%
    border-color: #583AFA
  100%
    border-color: #7760fc

.annotation
  transform: translate(-50%, 0)
  opacity: 1 !important
  .annotation-titlebar
    display: none
    border: 0
    border-radius: 4px
    padding: 0 12px 0 20px
    box-shadow: none !important
    .annotation-label
      color: #696969
      font-size: 12px
      line-height: 2.2
  .annotation-marker
    cursor: pointer
  .annotation-prev,
  .annotation-next
    display: none
    cursor: pointer
    color: white
    background-color: black
    padding: 0 10px
    min-width: 60px
  .annotation-prev
    float: left
  .annotation-next
    float: right
    text-align: right
  &:not(.opened)
    &[data-camera-dist=middle]
      .annotation-marker
        $size: 10px
        content: ''
        display: block
        position: absolute
        width: #{$size}
        height: #{$size}
        top: #{$size / -2}
        left: calc(50% - #{$size / 2})
        background-color: #583AFA
        box-shadow: 0 0 3px #000000
        border-radius: 100px
        border: 1px solid white
        > div
          display: none
    // カメラが少し近づいた時
    &[data-camera-dist=near]
      .annotation-titlebar
        display: block
        position: absolute
        left: 50px
        top: -13px
      .annotation-marker
        $size: 80px
        $borderWidth: 6px
        content: ''
        display: block
        position: absolute
        width: #{$size}
        height: #{$size}
        top: #{$size / -2 - $borderWidth}
        left: calc(50% - #{$size / 2})
        background-color: black
        border-radius: $size
        border: $borderWidth solid #583AFA
        overflow: hidden
        &.highlighted
          animation: markerAnim 0.5s infinite
          animation-direction: alternate
        > div
          display: block
          width: 100%
          height: 100%
          background-size: cover
          background-position: center
          opacity: 0.8
          transition: opacity 0.2s
        &:hover
          > div
            opacity: 1
  &[data-type="icon"]
    &[data-camera-dist=middle]
      .annotation-marker
        $size: 32px
        $borderWidth: 2px
        width: #{$size}
        height: #{$size}
        top: #{$size / -2 - $borderWidth}
        left: calc(50% - #{$size / 2})
        border-width: $borderWidth
      .annotation-titlebar
        left: 18px